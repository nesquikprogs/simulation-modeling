sis

Копия состояний нужна, чтобы все изменения происходили одновременно.

Для каждой вершины проверяем текущее состояние:

S → I: вероятность заражения зависит от числа инфицированных соседей.

I → S: выздоровление с фиксированной вероятностью q.

Применяем новые состояния одновременно и сохраняем историю для анимации.

Возвращаем флаг changes, чтобы можно было отследить, изменилось ли что-либо на шаге.



sir

Мы создаём копию состояний, чтобы все изменения происходили одновременно.

Проверяем каждую вершину:

S → I: вероятность зависит от числа инфицированных соседей.

I → R: выздоровление с фиксированной вероятностью.

R остаётся R: выздоровевшие не могут снова заразиться.

Применяем изменения ко всем вершинам и сохраняем историю для анимации.

Функция возвращает True, если хоть одна вершина изменила состояние — это удобно для контроля динамики.